### **План на семестр**

**Неделя 1-2: Введение в современный Python для веба и FastAPI**
*   **Теория:** Что такое API (REST/HTTP), микрофреймворки vs. монолиты. Обзор современных Python-фреймворков (Django, Flask, FastAPI). Введение в асинхронность (`async`/`await`) на пальцах. Установка и настройка окружения (Python 3.8+, pip, virtualenv/venv).
*   **Практика:** Первое приложение FastAPI. Основы маршрутизации (routing). Запуск сервера `uvicorn`. Автоматическая документация (Swagger UI и ReDoc). Работа с **Path Parameters** и **Query Parameters**.

**Неделя 3-4: Данные и валидация с Pydantic**
*   **Теория:** Модели данных. Что такое Pydantic и почему он критичен для FastAPI. Типы данных и валидация.
*   **Практика:** Создание **Pydantic моделей** для запросов (Request) и ответов (Response). Работа с **Request Body** (`POST`, `PUT`). Кастомные валидаторы. Настройка примеров (examples) для документации.

**Неделя 5-6: Структура проекта, зависимости (Dependencies) и внедрение зависимостей**
*   **Теория:** Принцип Dependency Injection (DI). Управление состоянием и подключениями. Разделение кода (слои: роутеры, сервисы, модели).
*   **Практика:** Организация проекта: `routers/`, `models/` (ORM), `schemas/` (Pydantic модели), `services/`, `core/`. Создание и использование **Dependencies** (зависимостей) для: получения сессии БД, проверки прав, извлечения общих параметров запроса. Встроенные и кастомные зависимости.

**Неделя 7: Работа с базами данных (SQL)**
*   **Теория:** Обзор инструментов: SQLAlchemy Core, SQLAlchemy ORM, Tortoise-ORM (async), databases (пакет). Выбор между синхронным и асинхронным подходом.
*   **Практика:** Настройка **SQLAlchemy ORM**. Создание моделей (`Base`). Подключение к SQLite/PostgreSQL. Использование dependency для получения сессии. **CRUD** операции: создание, чтение, обновление, удаление данных.

**Неделя 8: Промежуточный контроль (Мини-проект)**
*   **Задание:** Разработать простое API для одного ресурса (например, "Библиотека книг" или "Список задач") с использованием всего изученного: несколько эндпоинтов (GET, POST, PUT, DELETE), валидация, работа с БД, структурированный проект.
*   **Форма:** Небольшой индивидуальный проект или проект в парах.

**Неделя 9-10: Обработка ошибок и статус-коды**
*   **Теория:** Иерархия HTTP-статус кодов. Исключения в веб-приложениях.
*   **Практика:** Использование `HTTPException`. Создание собственных, понятных исключений. Глобальная обработка ошибок с помощью **exception handlers**. Валидация ошибок от Pydantic.

**Неделя 11-12: Аутентификация и авторизация**
*   **Теория:** Методы аутентификации (JWT, OAuth2). Поток Password Flow. Хеширование паролей (bcrypt).
*   **Практика:** Реализация **OAuth2 с JWT-токенами**. Создание эндпоинтов `/login` и `/register`. Защита маршрутов с помощью зависимостей. Создание dependency для получения текущего пользователя. Основы ролевой модели (scopes/roles).

**Неделя 13: Дополнительные темы (по выбору/времени)**
*   **Теория и практика на выбор:**
    *   **Фоновые задачи:** Использование `BackgroundTasks` для отправки email, обработки файлов.
    *   **Работа с файлами:** Загрузка и выгрузка файлов (`UploadFile`).
    *   **CORS (Cross-Origin Resource Sharing):** Настройка для работы с фронтендом.
    *   **Введение в тестирование:** Написание тестов для API с помощью `pytest` и `TestClient`.

**Неделя 14: Оптимизация и деплой (развертывание)**
*   **Теория:** Что такое ASGI-серверы (`uvicorn`, `gunicorn`). Контейнеризация (Docker). Основы развертывания.
*   **Практика:** Написание простого `Dockerfile`. Конфигурация приложения через переменные окружения (`.env` файлы, библиотека `pydantic-settings`). Простой скрипт запуска для продакшена.

**Неделя 15-16: Финальный проект и защита**
*   **Задание:** Разработка полноценного API для предметной области (например, "Блог с комментариями и тегами", "Сервис опросов", "Каталог товаров с отзывами").
*   **Требования к проекту:**
    1.  Четкая структура проекта.
    2.  Несколько взаимосвязанных сущностей (минимум 3).
    3.  Полный CRUD для основных ресурсов.
    4.  Реализация аутентификации и авторизации (разные права для разных действий).
    5.  Качественная валидация данных.
    6.  Работа с базой данных (SQLite/PostgreSQL).
    7.  Полноценная автоматическая документация.
    8.  Инструкция по запуску (`README.md`).
*   **Защита:** Краткая презентация проекта, демонстрация работы API через Swagger, ответы на вопросы.

---

### **Основные инструменты и стек, которые будут использоваться:**

1.  **FastAPI** — основной фреймворк.
2.  **Uvicorn** — ASGI-сервер для запуска.
3.  **Pydantic** — валидация и сериализация данных.
4.  **SQLAlchemy** (ORM) + **Alembic** (миграции) или **Tortoise-ORM** — для работы с БД.
5.  **Databases** (опционально) — для асинхронного доступа к БД.
6.  **JWT** (библиотека `python-jose[cryptography]`) — для токенов.
7.  **Passlib[bcrypt]** — для хеширования паролей.
8.  **Pytest** — для написания тестов.
9.  **Docker** — для контейнеризации (ознакомительно).

### **Критерии оценки:**

*   Активность на занятиях и выполнение практических работ в семестре.
*   Качество промежуточного мини-проекта.
*   Сложность, завершенность, чистота кода и следование best practices в финальном проекте.
*   Умение объяснить свою архитектуру и код на защите.

Этот план дает крепкую основу и позволяет студентам к концу семестра иметь в портфолио реальный, работающий проект на современном технологическом стеке.